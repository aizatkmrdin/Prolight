<!DOCTYPE html>
<html>

<head>
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content="initial-scale=1, width=device-width, viewport-fit=cover">
    <link rel="stylesheet" type="text/css" href="../css/index.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.min.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script type="text/javascript" src="../cordova.js"></script>
    <script type="text/javascript" src="../js/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="../js/framework7.js"></script>
    <script type="text/javascript" src="../js/framework7.min.js"></script>
    <script type="text/javascript" src="../js/framework7.bundle.min.js"></script>
    <script type="text/javascript" src="../js/index.js"></script>

    <title>ProLight</title>
</head>

<body class="reg">
    <header>
        <div class="hamburger">
            <i class="fas fa-bars"></i>
            <i class="fas fa-times"></i>
        </div>
        <nav class="sidebar">
            <ul class="nav-list">
                <li class="nav-item">
                    <a onclick="goHome()" class="nav-link current">
                        <i class="fas fa-home"></i>Menu Utama
                    </a>
                </li>

                <li class="nav-item">
                    <a onclick="goSenarai()" class="nav-link">
                        <i class="fas fa-address-card"></i>Senarai Tugas
                    </a>
                </li>
                <li class="nav-item">
                    <a onclick="goStatus()" class="nav-link">
                        <i class="fas fa-briefcase"></i>Status Laporan
                    </a>
                </li>

                <li class="nav-item">
                    <a onclick="goStatistik()" class="nav-link">
                        <i class="fas fa-blog"></i>Statistik Tugasan
                    </a>
                </li>

                <li class="nav-item">
                    <a onclick="goPapan()" class="nav-link">
                        <i class="fas fa-envelope"></i>Papan Skor
                    </a>
                </li>
            </ul>
        </nav>
    </header>

    <main>
        <p id="output"> </p>
        <div class="zoom-content">
            <section>
                <img class="screenhome2" src="../img/borang 3.png ">
        </div>
        <div class="row position-stepper3">
            <div class="col-xs-12 col-md-8 offset-md-2 block border">
                <div class="wrapper-progressBar">
                    <ul class="progressBar">
                        <li class="active">Jenis Kerja</li>
                        <li>Butiran Kerja</li>
                        <li>Hantar</li>
                    </ul>
                </div>
            </div>
        </div>
        <form id="formkerja">
            <p class="position-text1">Pilih Daerah</p>

            <div class="dropdown position-input1">
                <select class="dropdown-select" name="daerah" id="daerah">
                    <option value="Seremban">Seremban</option>
                    <option value="Port Dickson">Port Dickson</option>
                </select>
            </div>

            <p class="position-text2">Pilih Kumpulan</p>
            <div class="dropdown position-input2">
                <select class="dropdown-select" name="kumpulan" id="kumpulan">
                    <option value="A">Kumpulan A</option>
                    <option value="B">Kumpulan B</option>
                    <option value="C">Kumpulan C</option>
                    <option value="D">Kumpulan D</option>
                    <option value="E">Kumpulan E</option>
                    <option value="N">Kumpulan Normal</option>
                </select>
            </div>

            <p class="position-text3">Jenis Kerja</p>
            <div class="dropdown position-input3" id="jenisKerja">
                <select name="kerja" class="dropdown-select" name="jenisKerja" id="jenisKerja">
                    <option value="Ticket">Ticket</option>
                    <option value="Rondaan">Rondaan</option>
                    <option value="Rondaan Khas">Rondaan Khas</option>
                    <option value="LED">LED</option>
                    <option value="Panel">Panel</option>
                    <option value="Daftar Aset">Daftar Aset</option>
                    <option value="Aduan">Aduan</option>
                    <option value="Imbangan Barang">Imbangan Barang</option>
                    <option value="Senarai Semak">Senarai Semak</option>


                </select>
            </div>

            <div id="textPlace">
        </form>
        </div>
        <div onclick="nextPage()" class="buttonSeterusnya position-button-seterusnya-55">Seterusnya</div>

        <div class="input_container">
        </div>

        </section>
        </div>
    </main>
</body>
<script type="text/javascript" src="../js/script.js"></script>
<script>
    (function () {
        function IDGenerator() {

            this.length = 4;
            this.timestamp = +new Date;

            var _getRandomInt = function (min, max) {
                return Math.floor(Math.random() * (max - min + 1)) + min;
            }

            this.generate = function () {
                var ts = this.timestamp.toString();
                var parts = ts.split("").reverse();
                var id = "";

                for (var i = 0; i < this.length; ++i) {
                    var index = _getRandomInt(0, parts.length - 1);
                    id += parts[index];
                }

                return id;
            }


        }


        document.addEventListener("DOMContentLoaded", function () {
            output = document.querySelector("#output");

            var generator = new IDGenerator();
            output.innerHTML = generator.generate();

            var unikID = output.innerHTML;
            localStorage.setItem("output", unikID);


        });


    })();


    function openNav() {
        document.getElementById("mySidenav").style.width = "250px";
    }

    function closeNav() {
        document.getElementById("mySidenav").style.width = "0";
    }

    function getJeniskerja() {
        var jenisKerja = app.form.convertToData('#jenisKerja');
        var passKerja = jenisKerja.kerja;
        return passKerja;
    }



    function getLocation() {
        navigator.geolocation.getCurrentPosition(onSuccess,
            onError, {
                maximumAge: 3000,
                timeout: 5000,
                enableHighAccuracy: true
            });
    };

    var onSuccess = function (position) {
        var temp3 = position.coords.latitude;
        var temp4 = position.coords.longitude;

        localStorage.setItem("latitude", temp3);
        localStorage.setItem("longitude", temp4);






    };

    function onError(error) {
        alert('code: ' + error.code + '\n' +
            'message: ' + error.message + '\n');
    };

    navigator.geolocation.getCurrentPosition(onSuccess, onError);


    function nextPage() {
        localStorage.removeItem("gambarselepas");
        localStorage.removeItem("gambartiang");
        localStorage.removeItem("gambarsebelum");
        var formData = app.form.convertToData('#formkerja');


        //store localstorage
        localStorage.setItem("daerah", formData.daerah);
        localStorage.setItem("kumpulan", formData.kumpulan);


        var formreg = formData.daerah;
        var formreg2 = formData.kumpulan;
        var formreg3 = formData.jenisKerja;


        var dataFormreg = {
            "daerah": formreg,
            "kumpulan": formreg2,
            "jenisKerja": formreg3
        };



        var temp = getJeniskerja();
        if ((temp.localeCompare("Ticket")) == 0) {
            getLocation();
            localStorage.setItem("jenisKerja", temp);
            window.location.href = "ticket.html";

        } else if ((temp.localeCompare("Rondaan")) == 0) {
            getLocation();
            localStorage.setItem("jenisKerja", temp);
            window.location.href = "rondaan.html";

        } else if ((temp.localeCompare("Rondaan Khas")) == 0) {
            getLocation();
            localStorage.setItem("jenisKerja", temp);
            window.location.href = "rondaankhas.html";
        } else if ((temp.localeCompare("LED")) == 0) {
            getLocation();
            localStorage.setItem("jenisKerja", temp);
            window.location.href = "led.html";

        } else if ((temp.localeCompare("Panel")) == 0) {
            getLocation();
            localStorage.setItem("jenisKerja", temp);
            window.location.href = "panel.html";

        } else if ((temp.localeCompare("Daftar Aset")) == 0) {
            getLocation();
            localStorage.setItem("jenisKerja", temp);
            window.location.href = "daftaraset.html";

        } else if ((temp.localeCompare("Senarai Semak")) == 0) {
            getLocation();
            localStorage.setItem("jenisKerja", temp);
            window.location.href = "senaraisemak.html";

        } else if ((temp.localeCompare("Aduan")) == 0) {
            getLocation();
            localStorage.setItem("jenisKerja", temp);
            window.location.href = "aduan.html";
        } else if ((temp.localeCompare("Imbangan Barang")) == 0) {
            getLocation();
            localStorage.setItem("jenisKerja", temp);
            window.location.href = "imbangan.html";
        } else if ((temp.localeCompare("Imbangan Guna")) == 0) {
            getLocation();
            localStorage.setItem("jenisKerja", temp);
            window.location.href = "imbanganguna.html";
        }


        /*        function getLocation() {
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(showPosition);
                } else {
                    x.innerHTML = "Geolocation is not supported by this browser.";
                }
                }

                function showPosition(position) {
                    var temp3 = position.coords.latitude;
                    var temp4 = position.coords.longitude;
               
                localStorage.setItem("latitude",temp3);
                localStorage.setItem("longitude",temp4);
                }*/

    }

    function goHome() {
        window.location.href = "home.html";
    }

    function goSenarai() {
        window.location.href = "laporan.html";
    }

    function goStatus() {
        window.location.href = "laporan.html";
    }

    function goStatistik() {
        window.location.href = "statistik1.html";
    }

    function goPapan() {
        window.location.href = "papanskor.html";
    }
</script>

</html>