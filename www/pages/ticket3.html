<!DOCTYPE html>
<html>

<head>

    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content="initial-scale=1, width=device-width, viewport-fit=cover">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script type="text/javascript" src="../cordova.js"></script>
    <script type="text/javascript" src="../js/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="../js/framework7.js"></script>
    <script type="text/javascript" src="../js/framework7.min.js"></script>
    <script type="text/javascript" src="../js/framework7.bundle.min.js"></script>
    <script type="text/javascript" src="../js/index.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/index.css">
    <link rel="stylesheet" type="text/css" href="../css/input.css">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="../css/index.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>ProLight</title>
</head>

<body>
    <header>
        <div class="hamburger">
            <i class="fas fa-bars"></i>
            <i class="fas fa-times"></i>
        </div>
        <nav class="sidebar">
            <ul class="nav-list">
                <li class="nav-item">
                    <a onclick="goHome()" class="nav-link current">
                        <i class="fas fa-home"></i>Menu Utama
                    </a>
                </li>

                <li class="nav-item">
                    <a onclick="goSenarai()" class="nav-link">
                        <i class="fas fa-address-card"></i>Senarai Tugas
                    </a>
                </li>
                <li class="nav-item">
                    <a onclick="goStatus()" class="nav-link">
                        <i class="fas fa-briefcase"></i>Status Laporan
                    </a>
                </li>

                <li class="nav-item">
                    <a onclick="goStatistik()" class="nav-link">
                        <i class="fas fa-blog"></i>Statistik Tugasan
                    </a>
                </li>

                <li class="nav-item">
                    <a onclick="goPapan()" class="nav-link">
                        <i class="fas fa-envelope"></i>Papan Skor
                    </a>
                </li>
            </ul>
        </nav>
    </header>

    <main>
        <div class="zoom-content">
            <section>
                <div class="row position-stepper-high4s">
                    <div class="col-xs-12 col-md-8 offset-md-2 block border">
                        <div class="wrapper-progressBar">
                            <ul class="progressBar">
                                <li class="active">Jenis Kerja</li>
                                <li class="active" onclick="ticket()">Ticket</li>
                                <li class="active" onclick="ticket2()">Ticket 2</li>
                                <li class="active" onclick="ticket3()">Ticket 3</li>
                                <li>Hantar</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <form id="formticket3">
                    <p class="position-text1-high">Jenis Lampu</p>
                    <div class="dropdown position-input1-ticket" id="jenislampu" name="jenislampu">
                        <select name="jenislampu" class="dropdown-select">
                            <option value="led">LED</option>
                            <option value="sodium">Sodium</option>
                        </select>
                    </div>

                    <p class="position-text2-high">Chargeman</p>
                    <input class="input-box position-input2-ticket" type="text" name="chargeman" id="chargeman">

                    <p class="position-text3-high">Helper</p>
                    <input class="input-box position-input3-ticket" type="text" name="helper" id="helper">

                    <p class="position-text4-high">Driver</p>
                    <input class="input-box position-input4-ticket" type="text" name="driver" id="driver">

                    <p class="position-text5-high">Shift</p>
                    <div class="dropdown position-input5-ticket" id="shift" name="shift">
                        <select name="shift" class="dropdown-select">
                            <option value="Pagi">Pagi</option>
                            <option value="Petang">Petang</option>
                            <option value="Hari minggu">Hari Minggu</option>
                        </select>
                    </div>

                    <p class="position-text6-high">No Ticket</p>
                    <input class="input-box position-input6-ticket" type="text" name="ticket" id="ticket">


                    <p class="position-text7-high">Zon</p>
                    <div class="dropdown position-input7-ticket" id="zon" name="zon">
                        <select name="zon" class="dropdown-select">
                            <option value="A">A</option>
                            <option value="B">B</option>
                            <option value="C">C</option>
                            <option value="D">D</option>
                            <option value="E">E</option>
                            <option value="F">F</option>
                        </select>
                    </div>

                    <p class="position-text8-high">Punca Bekalan PE</p>
                    <input class="input-box position-input8-ticket" type="text" name="bekalan" id="bekalan">

                    <p class="position-text9-high">Nama Jalan</p>
                    <input class="input-box position-input9-ticket" type="text" name="jalan" id="jalan">

                    <p class="position-text10-high">Lokasi Kawalan Masa</p>
                    <input class="input-box position-input10-ticket" type="text" name="lokasi" id="Lokasi">

                    <p class="position-text11-high">Jenama</p>
                    <div class="dropdown position-input11-ticket" id="jenama" name="jenama">
                        <select name="jenama" class="dropdown-select">
                            <option value="AMAT SINAR ">AMAT SINAR </option>
                            <option value="MUAR LITE ">MUAR LITE </option>
                            <option value="PRIMELUX ">PRIMELUX </option>
                            <option value="NIKKON ">NIKKON </option>
                            <option value="PHILIP ">PHILIP </option>
                            <option value="KINGSON ">KINGSON </option>
                            <option value="MILAN ">MILAN</option>
                        </select>
                    </div>

                    <p class="position-text12-high">Size</p>
                    <div class="dropdown position-input12-ticket" id="size" name="size">
                        <select name="size" class="dropdown-select">
                            <option value="100W">100W</option>
                            <option value="70W">70W</option>
                            <option value="75W">75W</option>
                            <option value="80W">80W</option>
                            <option value="90W">90W</option>
                            <option value="120W">120W</option>
                            <option value="150W">150W</option>
                            <option value="250W">250W</option>
                        </select>
                    </div>


                    <p class="position-text13-high">Ipc 120-185 Abc</p>
                    <div class="dropdown position-input13-ticket" id="ipc120185">
                        <select name="ipc120185" class="dropdown-select">
                            <option value="0">0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                        </select>
                    </div>

                    <p class="position-text14-high">Ipc 16-95 ABC</p>
                    <div class="dropdown position-input14-ticket" id="ipc1695">
                        <select name="ipc1695" class="dropdown-select">
                            <option value="0">0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                        </select>
                    </div>

                    <p class="position-text15-high">Ipc 70-185 Abc</p>
                    <div class="dropdown position-input15-ticket" id="ipc20185">
                        <select name="ipc20185" class="dropdown-select">
                            <option value="0">0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                        </select>
                    </div>

                    <p class="position-text16-high">Ipc 16-70 ABC</p>
                    <div class="dropdown position-input16-ticket" id="ipc1670">
                        <select name="ipc1670" class="dropdown-select">
                            <option value="0">0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                        </select>
                    </div>

                    <p class="position-text17-high">Ipc 25-50 to 16-70 BARE</p>
                    <div class="dropdown position-input17-ticket" id="ipc2550">
                        <select name="ipc2550" class="dropdown-select">
                            <option value="0">0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                        </select>
                    </div>



                    <p class="position-text19-high">Catatan</p>
                    <textarea class="position-text19-high" style="background: #f2f2f2" rows="3" cols="45" name="catatan"
                        id="catatan">
        </textarea>


                </form>
                <div onclick="save()" class="buttonSimpan position-button-simpan-input3">Simpan</div>
                <div onclick="nextPage()" class="buttonSeterusnya position-button-seterusnya-input3">Hantar</div>
                <footer id="footer"></footer>
                <div class="input_container">
                </div>

            </section>
        </div>
    </main>
</body>

<script type="text/javascript" src="../js/script.js"></script>

<script>
    document.addEventListener("deviceready", onDeviceReady, false);

    function onDeviceReady() {
        document.addEventListener("online", onOnline, false);
        document.addEventListener("offline", onOffline, false);
        startup();
    }

    function startup() {
        var flag = localStorage.getItem("NumberOfObject");
        if (flag == null || flag == undefined) {
            checkTemp();
        } else {
            var listPending = JSON.parse(localStorage.getItem('listPending'));
            document.getElementById('jenislampu').value = localStorage.getItem("jenislampu");
            document.getElementById('chargeman').value = localStorage.getItem("chargeman");
            document.getElementById('helper').value = localStorage.getItem("helper");
            document.getElementById('driver').value = localStorage.getItem("driver");
            document.getElementById('shift').value = localStorage.getItem("shift");
            document.getElementById('ipc120185').value = localStorage.getItem("ipc120185");
            document.getElementById('ipc1695').value = localStorage.getItem("ipc1695");
            document.getElementById('ipc20185').value = localStorage.getItem("ipc20185");
            document.getElementById('ipc1670').value = localStorage.getItem("ipc1670");
            document.getElementById('ipc2550').value = localStorage.getItem("ipc2550");
            document.getElementById('catatan').value = localStorage.getItem("catatan");
        }
    }

    function onOffline() {
        //offline session
        alert("You In Offline Mode");
        localStorage.setItem("InternetStat", "offline");
    }

    function onOnline() {
        //online session
        alert("You In online Mode");
        localStorage.setItem("InternetStat", "online");
    }

    function checkTemp() {
        getItem();
    }

    function getItem() {


        document.getElementById('jenislampu').value = localStorage.getItem("jenislampu");
        document.getElementById('chargeman').value = localStorage.getItem("chargeman");
        document.getElementById('helper').value = localStorage.getItem("helper");
        document.getElementById('driver').value = localStorage.getItem("driver");
        document.getElementById('shift').value = localStorage.getItem("shift");
        document.getElementById('ipc120185').value = localStorage.getItem("ipc120185");
        document.getElementById('ipc1695').value = localStorage.getItem("ipc1695");
        document.getElementById('ipc20185').value = localStorage.getItem("ipc20185");
        document.getElementById('ipc1670').value = localStorage.getItem("ipc1670");
        document.getElementById('ipc2550').value = localStorage.getItem("ipc2550");
        document.getElementById('catatan').value = localStorage.getItem("catatan");

    }

    function ticket() {
        window.location.href = "ticket.html";
    }

    function ticket2() {
        window.location.href = "ticket2.html";
    }

    function ticket3() {
        window.location.href = "ticket3.html";
    }

    function openNav() {
        document.getElementById("mySidenav").style.width = "250px";
    }

    function closeNav() {
        document.getElementById("mySidenav").style.width = "0";
    }

    Object.objsize = function (obj) {
        var size = 0,
            key;

        for (key in obj) {
            if (obj.hasOwnProperty(key))
                size++;
        }

        return size;

    };

    function nextthing() {
        var InternetStat = localStorage.getItem("InternetStat");
        //alert(InternetStat);

        var formData = app.form.convertToData('#formticket3');

        localStorage.setItem("jenislampu", formData.jenislampu);
        localStorage.setItem("chargeman", formData.chargeman);
        localStorage.setItem("helper", formData.helper);
        localStorage.setItem("driver", formData.driver);
        localStorage.setItem("shift", formData.shift);
        localStorage.setItem("zon", formData.zon);
        localStorage.setItem("bekalan", formData.bekalan);
        localStorage.setItem("jalan", formData.jalan);
        localStorage.setItem("lokasi", formData.lokasi);
        localStorage.setItem("jenama", formData.jenama);
        localStorage.setItem("size", formData.size);
        localStorage.setItem("ipc120185", formData.ipc120185);
        localStorage.setItem("ipc1695", formData.ipc1695);
        localStorage.setItem("ipc20185", formData.ipc20185);
        localStorage.setItem("pipc1670", formData.ipc1670);
        localStorage.setItem("ipc2550", formData.ipc2550);
        localStorage.setItem("catatan", formData.catatan);
        localStorage.setItem("editticket", "3");

        var formreg = formData.jenislampu;
        var formreg2 = formData.chargeman;
        var formreg3 = formData.helper;
        var formreg4 = formData.driver;
        var formreg5 = formData.shift;
        var formreg13 = formData.ticket;
        var formreg6 = formData.zon;
        var formreg7 = formData.bekalan;
        var formreg8 = formData.jalan;
        var formreg9 = formData.lokasi;
        var formreg10 = formData.jenama;
        var formreg11 = formData.size;
        var formrega = formData.ipc120185;
        var formregb = formData.ipc1695;
        var formregc = formData.ipc20185;
        var formregd = formData.ipc1670;
        var formrege = formData.ipc2550;
        var formreg12 = formData.catatan;

        var drh = localStorage.getItem("daerah");
        var kmpln = localStorage.getItem("kumpulan");
        var jkerja = localStorage.getItem("jenisKerja");
        var latitude = localStorage.getItem("latitude");
        var longitude = localStorage.getItem("longitude");

        //get from localstorage value from 1st page rondaan.html
        var a = localStorage.getItem("notiang");
        var b = localStorage.getItem("masa");
        var c = localStorage.getItem("ipc");
        var d = localStorage.getItem("pecu");
        var e = localStorage.getItem("pecuqty");
        var f = localStorage.getItem("ipclantern");
        var g = localStorage.getItem("lantern");
        var h = localStorage.getItem("blackbox");
        var i = localStorage.getItem("fuse");
        var j = localStorage.getItem("contractor");
        var k = localStorage.getItem("link");
        var l = localStorage.getItem("dawailampu");
        var m = localStorage.getItem("dawaipanel");
        var n = localStorage.getItem("cout");
        var o = localStorage.getItem("rombaklampu");
        var p = localStorage.getItem("bracket");
        var q = localStorage.getItem("rombakpanel");
        //var r = localStorage.getItem("gambartiang");
        //var s = localStorage.getItem("gambarsebelum")
        var t = localStorage.getItem("output")


        //get from localstorage value from 2nd page rondaan2.html

        var sa = localStorage.getItem("clamp");
        var sb = localStorage.getItem("rentis");
        var sc = localStorage.getItem("dead");
        var sd = localStorage.getItem("cable");
        var se = localStorage.getItem("mini");
        var sf = localStorage.getItem("pusing");
        var sg = localStorage.getItem("jumperlantern");
        var sh = localStorage.getItem("jumperservice");
        var si = localStorage.getItem("hook");
        var sj = localStorage.getItem("creepers");
        var sk = localStorage.getItem("lanternwarranty");
        var sl = localStorage.getItem("colorcode");
        var sm = localStorage.getItem("tarikhtukar");
        var so = localStorage.getItem("setlantern");
        var sp = localStorage.getItem("tukaripc");
        var sq = localStorage.getItem("lampurosak");
        var sr = localStorage.getItem("category");
        //var ss = localStorage.getItem("gambarselepas");

        var gs1 = localStorage.getItem("gambarselepasURI");
        var gs2 = localStorage.getItem("gambarsebelumURI");
        var gs3 = localStorage.getItem("gambartiangURI");
        var gs4 = localStorage.getItem("gambarselepas");
        var gs5 = localStorage.getItem("gambarsebelum");
        var gs6 = localStorage.getItem("gambartiang");



        var data = {};

        data[0] = {
            "Daerah": drh,
            "Kumpulan": kmpln,
            "JenisKerja": jkerja,
            "Latitude": latitude,
            "Longitude": longitude,
            "NoTiang": a,
            "Masa": b,
            "IPC": c,
            "Pecu": d,
            "PecuQty": e,
            "IPCLantern": f,
            "Lantern": g,
            "Blackbox": h,
            "Fuse": i,
            "Contractor": j,
            "Link": k,
            "DawaiLampu": l,
            "DawaiPanel": m,
            "Cout": n,
            "RombakLampu": o,
            "Bracket": p,
            "RombakPanel": q,
            "Output": t,
            "Clamp": sa,
            "Rentis": sb,
            "Dead": sc,
            "Cable": sd,
            "Mini": se,
            "Pusing": sf,
            "JumperLantern": sg,
            "JumperService": sh,
            "Hook": si,
            "Creepers": sj,
            "LanternWarranty": sk,
            "ColorCode": sl,
            "TarikhTukar": sm,
            "SetLantern": so,
            "TukarIPC": sp,
            "LampuRosak": sq,
            "Category": sr,
            "JenisLampu": formreg,
            "Chargeman": formreg2,
            "Helper": formreg3,
            "Driver": formreg4,
            "Shift": formreg5,
            "Ticket": formreg13,
            "Zon": formreg6,
            "Bekalan": formreg7,
            "Jalan": formreg8,
            "Lokasi": formreg9,
            "Jenama": formreg10,
            "Size": formreg11,
            "IPC120185": formrega,
            "IPC1695": formregb,
            "IPC20185": formregc,
            "IPC1670": formregd,
            "IPC2550": formrege,
            "Catatan": formreg12,
            "GambarSelepasURI": gs1,
            "GambarSebelumURI": gs2,
            "GambarTiangURI": gs3,
            "GambarSelepas": gs4,
            "GambarSebelum": gs5,
            "GambarTiang": gs6,
            "Done": "0"
        };
        localStorage.setItem('listPendingTemp', JSON.stringify(data));

        var listPending = JSON.parse(localStorage.getItem('listPending'));
        var sizeOfList = Object.objsize(listPending);
        if (sizeOfList == 0) {
            localStorage.setItem('listPending', JSON.stringify(data));
        } else if (sizeOfList > 0) {
            var ipc120185 = "listPending[i].IPC120185";
            var ipc1695 = "listPending[i].IPC1695";
            var ipc20185 = "listPending[i].IPC20185";
            var ipc1670 = "listPending[i].IPC1670";
            var ipc2550 = "listPending[i].IPC2550";
            var dataTemp = {};
            for (i = 0; i < sizeOfList; i++) {
                if (listPending[i] == undefined) {
                    var listPending = JSON.parse(localStorage.getItem('listPendingTemp'));
                    dataTemp[i] = {
                        "Daerah": listPending[0].Daerah,
                        "Kumpulan": listPending[0].Kumpulan,
                        "JenisKerja": listPending[0].JenisKerja,
                        "Latitude": listPending[0].Latitude,
                        "Longitude": listPending[0].Longitude,
                        "NoTiang": listPending[0].NoTiang,
                        "Masa": listPending[0].Masa,
                        "IPC": listPending[0].IPC,
                        "Pecu": listPending[0].Pecu,
                        "PecuQty": listPending[0].PecuQty,
                        "IPCLantern": listPending[0].IPCLantern,
                        "Lantern": listPending[0].Lantern,
                        "Blackbox": listPending[0].Blackbox,
                        "Fuse": listPending[0].Fuse,
                        "Contractor": listPending[0].Contractor,
                        "Link": listPending[0].Link,
                        "DawaiLampu": listPending[0].DawaiLampu,
                        "DawaiPanel": listPending[0].DawaiPanel,
                        "Cout": listPending[0].Cout,
                        "RombakLampu": listPending[0].RombakLampu,
                        "Bracket": listPending[0].Bracket,
                        "RombakPanel": listPending[0].RombakPanel,
                        "Clamp": listPending[0].Clamp,
                        "Rentis": listPending[0].Rentis,
                        "Dead": listPending[0].Dead,
                        "Cable": listPending[0].Cable,
                        "Mini": listPending[0].Mini,
                        "Pusing": listPending[0].Pusing,
                        "JumperLantern": listPending[0].JumperLantern,
                        "JumperService": listPending[0].JumperService,
                        "Hook": listPending[0].Hook,
                        "Creepers": listPending[0].Creepers,
                        "LanternWarranty": listPending[0].LanternWarranty,
                        "ColorCode": listPending[0].ColorCode,
                        "TarikhTukar": listPending[0].TarikhTukar,
                        "SetLantern": listPending[0].SetLantern,
                        "TukarIPC": listPending[0].TukarIPC,
                        "LampuRosak": listPending[0].LampuRosak,
                        "Category": listPending[0].Category,
                        "JenisLampu": listPending[0].JenisLampu,
                        "Chargeman": listPending[0].Chargeman,
                        "Helper": listPending[0].Helper,
                        "Driver": listPending[0].Driver,
                        "Shift": listPending[0].Shift,
                        "Ticket": listPending[0].Ticket,
                        "Zon": listPending[0].Zon,
                        "Bekalan": listPending[0].Bekalan,
                        "Jalan": listPending[0].Jalan,
                        "Lokasi": listPending[0].Lokasi,
                        "Jenama": listPending[0].Jenama,
                        "Size": listPending[0].Size,
                        "IPC120185": listPending[0].IPC120185,
                        "IPC1695": listPending[0].IPC1695,
                        "IPC20185": listPending[0].IPC20185,
                        "IPC1670": listPending[0].IPC1670,
                        "IPC2550": listPending[0].IPC2550,
                        "Catatan": listPending[0].Catatan,
                        "GambarSelepasURI": listPending[0].GambarSelepasURI,
                        "GambarSebelumURI": listPending[0].GambarSebelumURI,
                        "GambarTiangURI": listPending[0].GambarTiangURI,
                        "GambarSelepas": listPending[0].GambarSelepas,
                        "GambarSebelum": listPending[0].GambarSebelum,
                        "GambarTiang": listPending[0].GambarTiang,
                        "Done": "0"
                    };
                    break;
                } else {
                    dataTemp[i] = {
                        "Daerah": listPending[0].Daerah,
                        "Kumpulan": listPending[0].Kumpulan,
                        "JenisKerja": listPending[0].JenisKerja,
                        "Latitude": listPending[0].Latitude,
                        "Longitude": listPending[0].Longitude,
                        "NoTiang": listPending[0].NoTiang,
                        "Masa": listPending[0].Masa,
                        "IPC": listPending[0].IPC,
                        "Pecu": listPending[0].Pecu,
                        "PecuQty": listPending[0].PecuQty,
                        "IPCLantern": listPending[0].IPCLantern,
                        "Lantern": listPending[0].Lantern,
                        "Blackbox": listPending[0].Blackbox,
                        "Fuse": listPending[0].Fuse,
                        "Contractor": listPending[0].Contractor,
                        "Link": listPending[0].Link,
                        "DawaiLampu": listPending[0].DawaiLampu,
                        "DawaiPanel": listPending[0].DawaiPanel,
                        "Cout": listPending[0].Cout,
                        "RombakLampu": listPending[0].RombakLampu,
                        "Bracket": listPending[0].Bracket,
                        "RombakPanel": listPending[0].RombakPanel,
                        "Output": listPending[0].Output,
                        "Clamp": listPending[0].Clamp,
                        "Rentis": listPending[0].Rentis,
                        "Dead": listPending[0].Dead,
                        "Cable": listPending[0].Cable,
                        "Mini": listPending[0].Mini,
                        "Pusing": listPending[0].Pusing,
                        "JumperLantern": listPending[0].JumperLantern,
                        "JumperService": listPending[0].JumperService,
                        "Hook": listPending[0].Hook,
                        "Creepers": listPending[0].Creepers,
                        "LanternWarranty": listPending[0].LanternWarranty,
                        "ColorCode": listPending[0].ColorCode,
                        "TarikhTukar": listPending[0].TarikhTukar,
                        "SetLantern": listPending[0].SetLantern,
                        "TukarIPC": listPending[0].TukarIPC,
                        "LampuRosak": listPending[0].LampuRosak,
                        "Category": listPending[0].Category,
                        "JenisLampu": listPending[0].JenisLampu,
                        "Chargeman": listPending[0].Chargeman,
                        "Helper": listPending[0].Helper,
                        "Driver": listPending[0].Driver,
                        "Shift": listPending[0].Shift,
                        "Ticket": listPending[0].Ticket,
                        "Zon": listPending[0].Zon,
                        "Bekalan": listPending[0].Bekalan,
                        "Jalan": listPending[0].Jalan,
                        "Lokasi": listPending[0].Lokasi,
                        "Jenama": listPending[0].Jenama,
                        "Size": listPending[0].Size,
                        "IPC120185": listPending[0].IPC120185,
                        "IPC1695": listPending[0].IPC1695,
                        "IPC20185": listPending[0].IPC20185,
                        "IPC1670": listPending[0].IPC1670,
                        "IPC2550": listPending[0].IPC2550,
                        "Catatan": listPending[0].Catatan,
                        "GambarSelepasURI": listPending[0].GambarSelepasURI,
                        "GambarSebelumURI": listPending[0].GambarSebelumURI,
                        "GambarTiangURI": listPending[0].GambarTiangURI,
                        "GambarSelepas": listPending[0].GambarSelepas,
                        "GambarSebelum": listPending[0].GambarSebelum,
                        "GambarTiang": listPending[0].GambarTiang,
                        "Done": "0"
                    };
                }
                /*;*/

            }
            var i = sizeOfList;
            //var listPending = JSON.parse(localStorage.getItem('listPendingTemp'));

            dataTemp[i] = {
                "Daerah": drh,
                "Kumpulan": kmpln,
                "JenisKerja": jkerja,
                "Latitude": latitude,
                "Longitude": longitude,
                "NoTiang": a,
                "Masa": b,
                "IPC": c,
                "Pecu": d,
                "PecuQty": e,
                "IPCLantern": f,
                "Lantern": g,
                "Blackbox": h,
                "Fuse": i,
                "Contractor": j,
                "Link": k,
                "DawaiLampu": l,
                "DawaiPanel": m,
                "Cout": n,
                "RombakLampu": o,
                "Bracket": p,
                "RombakPanel": q,
                "Output": t,
                "Clamp": sa,
                "Rentis": sb,
                "Dead": sc,
                "Cable": sd,
                "Mini": se,
                "Pusing": sf,
                "JumperLantern": sg,
                "JumperService": sh,
                "Hook": si,
                "Creepers": sj,
                "LanternWarranty": sk,
                "ColorCode": sl,
                "TarikhTukar": sm,
                "SetLantern": so,
                "TukarIPC": sp,
                "LampuRosak": sq,
                "Category": sr,
                "JenisLampu": formreg,
                "Chargeman": formreg2,
                "Helper": formreg3,
                "Driver": formreg4,
                "Shift": formreg5,
                "Ticket": formreg13,
                "Zon": formreg6,
                "Bekalan": formreg7,
                "Jalan": formreg8,
                "Lokasi": formreg9,
                "Jenama": formreg10,
                "Size": formreg11,
                "IPC120185": formrega,
                "IPC1695": formregb,
                "IPC20185": formregc,
                "IPC1670": formregd,
                "IPC2550": formrege,
                "Catatan": formreg12,
                "GambarSelepasURI": gs1,
                "GambarSebelumURI": gs2,
                "GambarTiangURI": gs3,
                "GambarSelepas": gs4,
                "GambarSebelum": gs5,
                "GambarTiang": gs6,
                "Done": "0"
            };

            localStorage.setItem('listPending', JSON.stringify(dataTemp));

        }
        localStorage.removeItem("NumberOfObject");
        window.location.href = "laporanDraft.html";
    }

    function nextedit(flag) {

    }

    function nextPage() {
        nextthing();
        /*var flag = localStorage.getItem("NumberOfObject");
        if (flag == null || flag == undefined) {
            nextthing();
        } else {
            nextedit(flag);
        }*/

    }

    function getPembumian() {
        var pembumian = app.form.convertToData('#pembumian');
        var passPembumian = pembumian.pembumian;
        return passPembumian;
    }


    function goHome() {
        window.location.href = "home.html";
    }

    function goSenarai() {
        window.location.href = "tugasan.html";
    }

    function goStatus() {
        window.location.href = "laporan.html";
    }

    function goStatistik() {
        window.location.href = "statistik1.html";
    }

    function goPapan() {
        window.location.href = "papanskor.html";
    }

    function post() {
        window.location.href = "laporan3.html";
    }

    function save() {


        var formData = app.form.convertToData('#formticket3');


        var formreg = formData.jenislampu;
        var formreg2 = formData.chargeman;
        var formreg3 = formData.helper;
        var formreg4 = formData.driver;
        var formreg5 = formData.shift;
        var formrega = formData.ipc120185;
        var formregb = formData.ipc1695;
        var formregc = formData.ipc20185;
        var formregd = formData.ipc1670;
        var formrege = formData.ipc2550;
        var formreg6 = formData.catatan;

        localStorage.setItem("jenislampu", formData.jenislampu);
        localStorage.setItem("chargeman", formData.chargeman);
        localStorage.setItem("helper", formData.helper);
        localStorage.setItem("driver", formData.driver);
        localStorage.setItem("shift", formData.shift);
        localStorage.setItem("zon", formData.zon);
        localStorage.setItem("bekalan", formData.bekalan);
        localStorage.setItem("jalan", formData.jalan);
        localStorage.setItem("lokasi", formData.lokasi);
        localStorage.setItem("jenama", formData.jenama);
        localStorage.setItem("size", formData.size);
        localStorage.setItem("ipc120185", formData.ipc120185);
        localStorage.setItem("ipc1695", formData.ipc1695);
        localStorage.setItem("ipc20185", formData.ipc20185);
        localStorage.setItem("pipc1670", formData.ipc1670);
        localStorage.setItem("ipc2550", formData.ipc2550);
        localStorage.setItem("catatan", formData.catatan);
        localStorage.setItem("editticket", "3");


        //get from localstorage value from jeniskerja.html page
        var drh = localStorage.getItem("daerah");
        var kmpln = localStorage.getItem("kumpulan");
        var jkerja = localStorage.getItem("jenisKerja");
        var latitude = localStorage.getItem("latitude");
        var longitude = localStorage.getItem("longitude");

        //get from localstorage value from 1st page rondaan.html
        var a = localStorage.getItem("notiang");
        var b = localStorage.getItem("rombak");
        var e = localStorage.getItem("pecu");
        var f = localStorage.getItem("pecuqty");
        var h = localStorage.getItem("lantern");
        var i = localStorage.getItem("box");
        var j = localStorage.getItem("fuse");
        var k = localStorage.getItem("contactor");
        var l = localStorage.getItem("link");
        var m = localStorage.getItem("dawailampu");
        var n = localStorage.getItem("dawaipanel");
        var o = localStorage.getItem("masa");
        var p = localStorage.getItem("lampurosak");
        var q = localStorage.getItem("tarikhpenukaran");
        var r = localStorage.getItem("gambartiang");
        var s = localStorage.getItem("gambarsebelum")

        //get from localstorage value from 2nd page rondaan2.html

        var sa = localStorage.getItem("bracket");
        var sb = localStorage.getItem("rombakpnl");
        var sc = localStorage.getItem("clamp");
        var sd = localStorage.getItem("rentis");
        var se = localStorage.getItem("dead");
        var sf = localStorage.getItem("cable");
        var sg = localStorage.getItem("mini");
        var sh = localStorage.getItem("pusing");
        var si = localStorage.getItem("jumper");
        var sj = localStorage.getItem("hook");
        var sk = localStorage.getItem("creeper");
        var sl = localStorage.getItem("setlantern");
        var sm = localStorage.getItem("tukarpecu");
        var sn = localStorage.getItem("tukaripc");
        var so = localStorage.getItem("cout");
        var sp = localStorage.getItem("catatan");
        var sq = localStorage.getItem("gambarselepas");


        var dataFormreg = {
            "daerah": drh,
            "kumpulan": kmpln,
            "jenisKerja": jkerja,
            "latitude": latitude,
            "longitude": longitude,

            "notiang": a,
            "rombak": b,
            "pecu": e,
            "pecuqty": f,
            "lantern": h,
            "box": i,
            "fuse": j,
            "contactor": k,
            "link": l,
            "dawailampu": m,
            "dawaipanel": n,
            "masa": o,
            "lampurosak": p,
            "tarikhpenukaran": q,
            "gambartiang": r,
            "gambarsebelum": s,

            "bracket": sa,
            "rombakpnl": sb,
            "clamp": sc,
            "rentis": sd,
            "dead": se,
            "cable": sf,
            "mini": sg,
            "pusing": sh,
            "jumper": si,
            "hook": sj,
            "creeper": sk,
            "setlantern": sl,
            "tukarpecu": sm,
            "tukaripc": sn,
            "cout": so,
            "catatan": sp,
            "gambarselepas": sq,

            "jenislampu": formreg1,
            "chargeman": formreg2,
            "helper": formreg3,
            "driver": formreg4,
            "shift": formreg5,
            "catatan": formreg6

        };

        window.location.href = "laporan2.html";

    }
</script>


</html>