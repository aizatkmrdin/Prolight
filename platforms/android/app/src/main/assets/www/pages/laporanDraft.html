<!DOCTYPE html>
<html>

<head>

    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content="initial-scale=1, width=device-width, viewport-fit=cover">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script type="text/javascript" src="../cordova.js"></script>
    <script type="text/javascript" src="../js/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="../js/framework7.js"></script>
    <script type="text/javascript" src="../js/framework7.min.js"></script>
    <script type="text/javascript" src="../js/framework7.bundle.min.js"></script>
    <script type="text/javascript" src="../js/index.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/table.css">
    <link rel="stylesheet" type="text/css" href="../css/boot.css">
    <link rel="stylesheet" type="text/css" href="../css/index.css">
    <link rel="stylesheet" type="text/css" href="../css/input.css">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="../css/index.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>ProLight</title>
</head>

<body>
    <header>
        <div class="hamburger">
            <i class="fas fa-bars"></i>
            <i class="fas fa-times"></i>
        </div>
        <nav class="sidebar">
            <ul class="nav-list">
                <li class="nav-item">
                    <a onclick="goHome()" class="nav-link current">
                        <i class="fas fa-home"></i>Menu Utama
                    </a>
                </li>

                <li class="nav-item">
                    <a onclick="goSenarai()" class="nav-link">
                        <i class="fas fa-address-card"></i>Senarai Tugas
                    </a>
                </li>
                <li class="nav-item">
                    <a onclick="goStatus()" class="nav-link">
                        <i class="fas fa-briefcase"></i>Status Laporan
                    </a>
                </li>

                <li class="nav-item">
                    <a onclick="goStatistik()" class="nav-link">
                        <i class="fas fa-blog"></i>Statistik Tugasan
                    </a>
                </li>

                <li class="nav-item">
                    <a onclick="goPapan()" class="nav-link">
                        <i class="fas fa-envelope"></i>Papan Skor
                    </a>
                </li>
            </ul>
        </nav>
    </header>

    <main>
        <div class="zoom-content">
            <section>
                <p class="titlereg-report">Draft</p>
                <div class="container position-tab">
                    <ul class="nav nav-tabs ">
                        <li class="active"><a onclick="laporan()">Selesai</a></li>
                    </ul>
                    <br>
                    <center>
                        <div id="news"></div>
                    </center>
                </div>

            </section>
        </div>
    </main>
</body>

<script type="text/javascript" src="../js/script.js"></script>

<script>
    Object.objsize = function (obj) {
        var size = 0,
            key;

        for (key in obj) {
            if (obj.hasOwnProperty(key))
                size++;
        }

        return size;

    };
    document.addEventListener("deviceready", onDeviceReady, false);
    var input = "";

    function onDeviceReady() {
        var listPending = JSON.parse(localStorage.getItem('listPending'));
        var sizeOfList = Object.objsize(listPending);
        //var sizeOfList = 3;
        //var listPending = JSON.parse(localStorage.getItem('listPending'));
        var unData = [];
        for (i = 0; i < sizeOfList; i++) {
            if (listPending[i] == undefined) {
                unData[i] = {
                    "undifined2": i
                };
            }
        }

        var sizeOfList2 = Object.objsize(unData);
        var x = 0;
        var y = 0;
        input +=
            "<table><tr><th><p style='text-align: center'>Bil</p></th><th><p style='text-align: center'>Tarikh</p></th><th><p style='text-align: center'>Nombor Tiang</p></th><th></th></tr>";
        for (i = 0; i < sizeOfList; i++) {

            if (listPending[i] == undefined) {
                sizeOfList = sizeOfList + 1;
                continue;
            } else {
                input +=
                    "<tr><td style='padding: 10px 10px;'>" + (x + 1) +
                    "</td><td>" + listPending[i].Masa + "</td><td>" + listPending[i].NoTiang +
                    "</td><td><a onclick='edit(" + i + ")'>edit</a>  <a onclick='send(" + i +
                    ")'>send</a></td></tr>";
                x++;
            }

        }
        input += "</table>";
        document.getElementById('news').innerHTML = input;

    }

    function edit(i) {

        var listPending = JSON.parse(localStorage.getItem('listPending'));
        alert(i);
        delete listPending[i];
        //unset(listPending[i]);
        //listPending.splice(i, 1);
        //var listPendingTemp = array_values(listPending);
        localStorage.setItem('listPending', JSON.stringify(listPending));
        var listPending = JSON.parse(localStorage.getItem('listPending'));
        var sizeOfList = Object.objsize(listPending);
        location.reload();
    }

    function send(i) {
        alert(i);
    }
</script>

</html>