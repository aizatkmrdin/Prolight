<!DOCTYPE html>
<html>

<head>

    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content="initial-scale=1, width=device-width, viewport-fit=cover">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script type="text/javascript" src="../cordova.js"></script>
    <script type="text/javascript" src="../js/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="../js/framework7.js"></script>
    <script type="text/javascript" src="../js/framework7.min.js"></script>
    <script type="text/javascript" src="../js/framework7.bundle.min.js"></script>
    <script type="text/javascript" src="../js/index.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/index.css">
    <link rel="stylesheet" type="text/css" href="../css/input.css">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="../css/index.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>ProLight</title>
</head>

<body>
    <header>
        <div class="hamburger">
            <i class="fas fa-bars"></i>
            <i class="fas fa-times"></i>
        </div>
        <nav class="sidebar">
            <ul class="nav-list">
                <li class="nav-item">
                    <a onclick="goHome()" class="nav-link current">
                        <i class="fas fa-home"></i>Menu Utama
                    </a>
                </li>

                <li class="nav-item">
                    <a onclick="goSenarai()" class="nav-link">
                        <i class="fas fa-address-card"></i>Senarai Tugas
                    </a>
                </li>
                <li class="nav-item">
                    <a onclick="goStatus()" class="nav-link">
                        <i class="fas fa-briefcase"></i>Status Laporan
                    </a>
                </li>

                <li class="nav-item">
                    <a onclick="goStatistik()" class="nav-link">
                        <i class="fas fa-blog"></i>Statistik Tugasan
                    </a>
                </li>

                <li class="nav-item">
                    <a onclick="goPapan()" class="nav-link">
                        <i class="fas fa-envelope"></i>Papan Skor
                    </a>
                </li>
            </ul>
        </nav>
    </header>

    <main>
        <div class="zoom-content">
            <section>
                <div class="row position-stepper-high4">
                    <div class="col-xs-12 col-md-8 offset-md-2 block border">
                        <div class="wrapper-progressBar">
                            <ul class="progressBar">
                                <li class="active">Jenis Kerja</li>
                                <li class="active" onclick="goPanel()">Panel</li>
                                <li onclick="goPanel2()">Panel 2</li>
                                <li>Hantar</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <form id="panel">
                    <p class="position-text1-high">No Tiang</p>
                    <input class="input-box position-input1-ticket" type="text" name="notiang" id="notiang"
                        placeholder="No tiang">

                    <p class="position-text2-high">Shift</p>
                    <div class="dropdown position-input2-ticket">
                        <select name="shift" class="dropdown-select">
                            <option value="Malam">Malam</option>
                            <option value="Siang">Siang</option>
                        </select>
                    </div>

                    <p class="position-text3-high">Aduan</p>
                    <input class="input-box position-input3-ticket" type="text" name="aduan" placeholder="aduan">>

                    <p class="position-text4-high">Lokasi Kawalan Masa</p>
                    <input class="input-box position-input4-ticket" type="text" name="lokasi" placeholder="Lokasi">

                    <p class="position-text5-high">No Meter</p>
                    <input class="input-box position-input5-ticket" type="text" name="nometer" placeholder="No meter">

                    <p class="position-text6-high">Mengecat Panel</p>
                    <div class="dropdown position-input6-ticket" id="mengecatpanel">
                        <select name="mengecatpanel" class="dropdown-select">
                            <option value="0">0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                        </select>
                    </div>
                    <p class="position-text7-high">Monkey Panel Fasa 1</p>
                    <div class="dropdown position-input7-ticket" id="monkeypanel1">
                        <select name="monkeypanel1" class="dropdown-select">
                            <option value="0">0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>

                        </select>
                    </div>
                    <p class="position-text8-high">Monkey Panel Fasa 3</p>
                    <div class="dropdown position-input8-ticket" id="monkeypanel3">
                        <select name="monkeypanel3" class="dropdown-select">
                            <option value="0">0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>

                        </select>
                    </div>
                    <p class="position-text9-high">Merombak Panel</p>
                    <div class="dropdown position-input9-ticket" id="merombakpanel">
                        <select name="merombakpanel" class="dropdown-select">
                            <option value="0">0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>

                        </select>
                    </div>
                    <p class="position-text10-high">Pvc/cabel2.5mm/copro</p>
                    <div class="dropdown position-input10-ticket" id="pvc">
                        <select name="pvc" class="dropdown-select">
                            <option value="0">0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                        </select>
                    </div>
                    <p class="position-text11-high">Mengecat Panel Meter</p>
                    <div class="dropdown position-input11-ticket" id="mengecatpanelmeter">
                        <select name="mengecatpanelmeter" class="dropdown-select">
                            <option value="0">0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                        </select>
                    </div>

                    <p class="position-text12-high">Tukar Pecu</p>
                    <div class="dropdown position-input12-ticket" id="pecuqty">
                        <select name="pecuqty" class="dropdown-select">
                            <option value="0">0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                        </select>
                    </div>
                    <p class="position-text13-high">Contractor</p>
                    <div class="dropdown position-input13-ticket" id="contractor">
                        <select name="contractor" class="dropdown-select">
                            <option value="0">0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                        </select>
                    </div>
                    <p class="position-text14-high">Fius/Cut-out/n Link</p>
                    <div class="dropdown position-input14-ticket" id="fius">
                        <select name="fius" class="dropdown-select">
                            <option value="0">0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                        </select>
                    </div>

                    <p class="position-text15-high">Masa</p>
                    <input class="input-box position-input15-ticket" type="text" name="masa" id="time" readonly>

                    <p class="position-text16-high">Category</p>
                    <div class="dropdown position-input16-ticket" id="category">
                        <select name="category" class="dropdown-select">
                            <option value="baik">Kredit/Baik</option>
                            <option value="rosak">Kredit/Rosak</option>
                            <option value="skrap">Skrap</option>
                        </select>
                    </div>

                    <div class="footnoteticket1">
                        <p class="">Muat Naik Gambar Tiang</p>
                        <!--<div class="upload-btn-wrapper position-upload-ticket1-1">
                <button class="btnss" name="gambartiang" id="tiang">Gambar Tiang</button>
                <input type="file" name="gambartiang" />-->
                        <a onclick="goCamera()" class="btnss" name="gambartiang" id="tiang">Gambar Tiang</a>
                    </div>
                    <div class="upload-btn-wrapper position-upload-ticket1-2">
                        <!-- <button class="btnss1" name="gambarsebelum" id="tiang">Gambar Sebelum Mula Kerja</button>
                <input type="file" name="gambarsebelum" />-->
                        <a onclick="goCamera2()" class="btnss" name="gambarsebelum" id="gambarsebelum">Gambar Tiang</a>
                    </div>
        </div>

        </form>
        <div class="footnoteticket2"></div>
        <div onclick="save()" class="buttonSimpan position-button-simpan-input-ticket1">Simpan</div>
        <div onclick="nextPage()" class="buttonSeterusnya position-button-seterusnya-input-ticket1">Seterusnya</div>
        <footer id="footer"></footer>
        <div class="input_container">

        </div>

        </section>
        </div>
    </main>
</body>

<script type="text/javascript" src="../js/script.js"></script>

<script>
    document.addEventListener("deviceready", onDeviceReady, false);

    function onDeviceReady() {
        startup();
    }

    function startup() {

        var flag = localStorage.getItem("NumberOfObject");
        var stat = localStorage.getItem("statPage");
        if (flag == null || flag == undefined) {
            checkTemp();
        } else {
            var listPending = JSON.parse(localStorage.getItem('listPending'));
            document.getElementById('notiang').value = listPending[flag].NoTiang;
            document.getElementById('shift').value = listPending[flag].Shift;
            document.getElementById('aduan').value = listPending[flag].Aduan;
            document.getElementById('lokasi').value = listPending[flag].Lokasi;
            document.getElementById('nometer').value = listPending[flag].NoMeter;
            document.getElementById('mengecatpanel').value = listPending[flag].MengecatPanel;
            document.getElementById('monkeypanel1').value = listPending[flag].MonkeyPanel1;
            document.getElementById('monkeypanel3').value = listPending[flag].MonkeyPanel3;
            document.getElementById('merombakpanel').value = listPending[flag].MerombakPanel;
            document.getElementById('pvc').value = listPending[flag].PVC;
            document.getElementById('menegecatpanelmeter').value = listPending[flag].MengecatPanelMeter;
            document.getElementById('ipcqty').value = listPending[flag].IPCQty;
            document.getElementById('pecuqty').value = listPending[flag].PecuQty;
            document.getElementById('contactor').value = listPending[flag].Contractor;
            document.getElementById('fius').value = listPending[flag].Fius;
            document.getElementById('time').value = listPending[flag].Masa;
            document.getElementById('category').value = listPending[flag].Category;
            document.getElementById('gambartiang').value = listPending[flag].GambarTiang;
            document.getElementById('gambarsebelum').value = listPending[flag].GambarSebelum;

        }
    }

    function getItem() {
        document.getElementById('notiang').value = localStorage.getItem("notiang");
        document.getElementById('shift').value = localStorage.getItem("shift");
        document.getElementById('aduan').value = localStorage.getItem("aduan");
        document.getElementById('lokasi').value = localStorage.getItem("lokasi");
        document.getElementById('nometer').value = localStorage.getItem("nometer");
        document.getElementById('mengecatpanel').value = localStorage.getItem("mengecatpanel");
        document.getElementById('monkeypanel1').value = localStorage.getItem("monkeypanel1");
        document.getElementById('monkeypanel3').value = localStorage.getItem("monkeypanel3");
        document.getElementById('merombakpanel').value = localStorage.getItem("merombakpanel");
        document.getElementById('pvc').value = localStorage.getItem("pvc");
        document.getElementById('menegecatpanelmeter').value = localStorage.getItem("menegecatpanelmeter");
        document.getElementById('ipcqty').value = localStorage.getItem("ipcqty");
        document.getElementById('pecuqty').value = localStorage.getItem("pecuqty");
        document.getElementById('contactor').value = localStorage.getItem("contactor");
        document.getElementById('fius').value = localStorage.getItem("fius");
        document.getElementById('masa').value = localStorage.getItem("masa");
        document.getElementById('category').value = localStorage.getItem("category");
        document.getElementById('gambartiang').value = localStorage.getItem("gambartiang");
        document.getElementById('gambarsebelum').value = localStorage.getItem("gambarsebelum");

    }

    function checkTemp() {
        var cond = localStorage.getItem("editpanel");
        if (cond == 1) {
            startTime();
            neaws();

        } else {
            startTime();
            neaws();
        }
    }

    function checkTime(i) {
        if (i < 10) {
            i = "0" + i;
        }
        return i;
    }

    function startTime() {
        var today = new Date();
        var h = today.getHours();
        var m = today.getMinutes();
        var s = today.getSeconds();
        var dd = String(today.getDate()).padStart(2, '0');
        var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!
        var yyyy = today.getFullYear();
        // add a zero in front of numbers<10
        m = checkTime(m);
        s = checkTime(s);
        document.getElementById('time').value = yyyy + '-' + mm + '-' + dd + " " + h + ":" + m + ":" + s;
        /*t = setTimeout(function () {
            startTime()
        }, 500);*/
    }


    function neaws() {
        var today = new Date();
        var dd = String(today.getDate()).padStart(2, '0');
        var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!
        var yyyy = today.getFullYear();
        localStorage.setItem("dateT", dd + '/' + mm + '/' + yyyy);


    }





    function goPanel() {
        window.location.href = "panel.html";
    }

    function goPanel2() {
        window.location.href = "panel2.html";
    }

    function goPanel3() {
        window.location.href = "panel3.html";
    }

    function goCamera() {
        window.location.href = "tiang.html";
    }

    function goCamera2() {
        window.location.href = "tiangsebelum.html";
    }

    function openNav() {
        document.getElementById("mySidenav").style.width = "250px";
    }

    function closeNav() {
        document.getElementById("mySidenav").style.width = "0";
    }

    function nextPage() {
        var gambarsebelumURI = localStorage.getItem("gambarsebelumURI");
        //get gamber tiang name in local storage
        var gambartiangURI = localStorage.getItem("gambartiangURI");
        var InternetStat = localStorage.getItem("InternetStat");

        //condition of no picture selected 
        //both null
        if ((gambartiangURI == null || gambartiangURI == '') && (gambarsebelumURI == null || gambarsebelumURI == '')) {
            alert("gambar sebelum & tiang is null");
            // one of it null
        } else if ((gambartiangURI == null || gambartiangURI == '') || (gambarsebelumURI == null || gambarsebelumURI ==
                '')) {
            if (gambarsebelumURI == null || gambarsebelumURI == '') {
                alert("gambar sebelum is null");
                window.location.href = "tiangsebelum.html";
            } else if (gambartiangURI == null || gambartiangURI == '') {
                alert("gambar tiang is null");
                window.location.href = "tiang.html";
            }
            //both not null
        } else if ((gambartiangURI != null || gambartiangURI != '') && (gambarsebelumURI != null || gambarsebelumURI !=
                '')) {

            var formPanel = app.form.convertToData('#panel');
            localStorage.setItem("notiang", formPanel.notiang);
            localStorage.setItem("shift", formPanel.shift);
            localStorage.setItem("aduan", formPanel.aduan);
            localStorage.setItem("lokasi", formPanel.lokasi);
            localStorage.setItem("nometer", formPanel.nometer);
            localStorage.setItem("mengecatpanel", formPanel.mengecatpanel);
            localStorage.setItem("monkeypanel1", formPanel.monkeypanel1);
            localStorage.setItem("monkeypanel3", formPanel.monkeypanel3);
            localStorage.setItem("merombakpanel", formPanel.merombakpanel);
            localStorage.setItem("pvc", formPanel.pvc);
            localStorage.setItem("mengecatpanelmeter", formPanel.mengecatpanelmeter);
            localStorage.setItem("ipcqty", formPanel.ipcqty);
            localStorage.setItem("pecuqty", formPanel.pecuqty);
            localStorage.setItem("contractor", formPanel.contractor);
            localStorage.setItem("fius", formPanel.fius);
            localStorage.setItem("masa", formPanel.masa);
            localStorage.setItem("category", formPanel.category);
            localStorage.setItem("editpanel", "1");
            window.location.href = "panel2.html";

        } else {
            alert("error somewhere");
        }


    }

    function goHome() {
        window.location.href = "home.html";
    }

    function goSenarai() {
        window.location.href = "tugasan.html";
    }

    function goStatus() {
        window.location.href = "laporan.html";
    }

    function goStatistik() {
        window.location.href = "statistik1.html";
    }

    function goPapan() {
        window.location.href = "papanskor.html";
    }

    function post() {
        window.location.href = "laporan3.html";
    }

    function save() {
        var formPanel = app.form.convertToData('#panel');
        //alert(formPanel);


        //store localstorage
        localStorage.setItem("notiang", formPanel.notiang);
        localStorage.setItem("shift", formPanel.shift);
        localStorage.setItem("aduan", formPanel.aduan);
        localStorage.setItem("lokasi", formPanel.lokasi);
        localStorage.setItem("nometer", formPanel.nometer);
        localStorage.setItem("mengecatpanel", formPanel.mengecatpanel);
        localStorage.setItem("monkeypanel1", formPanel.monkeypanel1);
        localStorage.setItem("monkeypanel3", formPanel.monkeypanel3);
        localStorage.setItem("merombakpanel", formPanel.merombakpanel);
        localStorage.setItem("pvc", formPanel.pvc);
        localStorage.setItem("mengecatpanelmeter", formPanel.mengecatpanelmeter);
        localStorage.setItem("ipcqty", formPanel.ipcqty);
        localStorage.setItem("pecu", formPanel.pecu);
        localStorage.setItem("contractor", formPanel.contractor);
        localStorage.setItem("fius", formPanel.fius);
        localStorage.setItem("masa", formPanel.masa);
        localStorage.setItem("masa", formPanel.category);
        localStorage.setItem("editpanel", "1");



        window.location.href = "laporan2.html";
    }
</script>

</html>